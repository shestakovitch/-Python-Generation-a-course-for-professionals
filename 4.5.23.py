"""–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞—Ä—Ö–∏–≤–∞ üå∂Ô∏èüå∂Ô∏è
–í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω –∞—Ä—Ö–∏–≤ desktop.zip, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã. –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –µ–≥–æ —Ñ–∞–π–ª–æ–≤—É—é
—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –æ–±—ä–µ–º –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞.

–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–ù–∞ –≤—Ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º–µ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–¥–∞–µ—Ç—Å—è.

–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∞—Ä—Ö–∏–≤–∞ desktop.zip –∏ –æ–±—ä–µ–º –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –Ω–µ—Å–∂–∞—Ç–æ–º –≤–∏–¥–µ. –¢–∞–∫ –∫–∞–∫ –∞—Ä—Ö–∏–≤
–∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –ø–∞–ø–æ–∫, –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–¥–µ–ª–µ–Ω –¥–≤—É–º—è –ø—Ä–æ–±–µ–ª–∞–º–∏.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –í—ã–≤–æ–¥ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∞—Ä—Ö–∏–≤–∞ test.zip –∏–∑ –∫–æ–Ω—Å–ø–µ–∫—Ç–∞:

test
  –ö–∞—Ä—Ç–∏–Ω–∫–∏
    1.jpg 88 KB
    avatar.png 19 KB
    certificate.png 43 KB
    py.png 33 KB
    World_Time_Zones_Map.png 2 MB
    –°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞.png 11 KB
  –ù–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞.djvu 5 MB
  –ü—Ä–æ–≥—Ä–∞–º–º—ã
    image_util.py 5 KB
    sort.py 61 B
  –†–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã
    astros.json 505 B
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –û–±—ä–µ–º —Ñ–∞–π–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Å–∞–º—ã—Ö –∫—Ä—É–ø–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –¥–æ —Ü–µ–ª—ã—Ö.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –ó–Ω–∞—á–µ–Ω–∏—è –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–∞–∫–∏–µ –∂–µ, –∫–∞–∫–∏–µ –ø—Ä–∏–Ω—è—Ç—ã –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ:

1 KB = 1024 B
1 MB = 1024 KB
1 GB = 1024 MB"""

from zipfile import ZipFile


def convert_bytes(size):
    """–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –±–∞–π—Ç –≤ –±–æ–ª—å—à–∏–µ –µ–¥–∏–Ω–∏—Ü—ã"""
    if size < 1000:
        return f'{size} B'
    elif 1000 <= size < 1000000:
        return f'{round(size / 1024)} KB'
    elif 1000000 <= size < 1000000000:
        return f'{round(size / 1048576)} MB'
    else:
        return f'{round(size / 1073741824)} GB'
with ZipFile('desktop.zip', 'r') as zip_open:
    file = zip_open.infolist()
    for f in file:
        string = f.filename
        space = (string.count('/')-1) * '  '

        if f.is_dir():
            print_line = f.filename.split('/')[-2]
            print(f'{space}{print_line}')
        else:
            print_line = f.filename.split('/')[-1]
            space = (string.count('/')) * '  '
            print(f'{space}{print_line} {convert_bytes(f.file_size)}')